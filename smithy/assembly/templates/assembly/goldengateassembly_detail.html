{% extends 'proj_site/base.html' %}
{% block content %}
    <h1>{{ title }}</h1>
    <div class="row mb-5">
        <h2>General Info</h2>
        <div class="col">
            <ul class="list-group">
                <li class="list-group-item">Created on {{ goldengate.date_created|date:'F d, Y' }}</li>
                <li class="list-group-item">Restriction Enzyme: BsaI</li>
                <li class="list-group-item">Ligase: T4-DNA</li>
                <li class="list-group-item">
                    Overhangs: 
                    {% if goldengate.overhangs == 0 %}
                        15 overhangs
                    {% elif goldengate.overhangs == 1 %}
                        20 overhangs
                    {% elif goldengate.overhangs == 2 %}
                        25 overhangs 
                    {% elif goldengate.overhangs == 3 %}
                        30 overhangs
                    {% endif %}
                </li>
            </ul>
        </div>
    </div>
    <div class="row mb-4">
        <div class="col">
            <h2>Backbone</h2>
            <a href="{{ goldengate.backbone_file.url }}" class="btn btn-outline-primary">Download Backbone File</a>
            <h2 class="mt-3">Insert</h2>
            <a href="{{ goldengate.insert_file.url }}" class="btn btn-outline-primary">Download Insert File</a>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col">
            <h2 class="mb-4">
                Solutions
                <a href="#" class="btn btn-outline-primary float-end disabled">Download Solutions</a> 
            </h2>
            {% for solution in solutions %}
                <div class="card mb-2">
                    <div class="card-body">
                        <h4 class="card-title">
                            {{solution.name}}
                            <a href="{% url 'goldengate-solution-detail' solution.pk %}" class="btn btn-outline-primary float-end">View Solution</a>
                        </h4>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <strong>Created:</strong> {{ solution.date_created }}
                            </li>
                            <li class="list-group-item">
                                <strong>Parts:</strong> {{ solution.parts_count }}
                            </li>
                            <li class="list-group-item">
                                <strong>Primers:</strong> {{ solution.primers_count }}
                            </li>
                        </ul>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="row mb-4">
        <div class="col">
            <h2>BLAST Query</h2>
            <ul class="list-group">
                <li class="list-group-item">AddGene: {{ goldengate.addgene }}</li>
                <li class="list-group-item">iGEM: {{ goldengate.igem }}</li>
                <li class="list-group-item">DNASU: {{ goldengate.dnasu }}</li>
                <li class="list-group-item">Min BLAST seq size: {{ goldengate.min_blast }}nt</li>
                <li class="list-group-item">Max BLAST seq size: {{ goldengate.max_blast }}nt</li>
                <li class="list-group-item">Min synthetic seq size: {{ goldengate.min_synth }}nt</li>
                <li class="list-group-item">Max synthetic seq size: {{ goldengate.max_synth }}nt</li>
            </ul>    
        </div>
    </div>
    <div class="row mb-4">
        <div class="col">
            <h2>Experiment</h2>
            <ul class="list-group">
                <li class="list-group-item">Monovalent ion concentration: {{ goldengate.mv_conc }}mM</li>
                <li class="list-group-item">Divalent ion concentration: {{ goldengate.dv_conc }}mM</li>
                <li class="list-group-item">dNTP concentration: {{ goldengate.dntp_conc }}mM</li>
                <li class="list-group-item">DNA concentration: {{ goldengate.dna_conc }}nM</li>
                <li class="list-group-item">Melting temperature: {{ goldengate.tm }}C</li>
            </ul>
        </div>
    </div>
{% endblock content %}