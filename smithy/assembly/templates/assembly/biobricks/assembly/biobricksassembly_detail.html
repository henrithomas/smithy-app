{% extends 'proj_site/base.html' %}
{% block content %}
    <h1>{{ title }}</h1>
    <div class="row mb-4">
        <div class="col">
            <p>
                This is an overview of your assembly. Under the <em>Solutions</em> section you will find solutions that Smithy has created for you. 
                Click on <em>View Solution</em> to see the parts (purchasable DNA sequences), primer designs for each part, and more that Smithy
                has created for that unique assembly solution. 
            </p>
            <h2>General Info</h2>
            <ul class="list-group">
                <li class="list-group-item"><strong>Created:</strong> {{ biobrick.date_created|date:'F d, Y' }}</li>
            </ul>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col">
            <h2>Backbone</h2>
            <a href="{{ biobrick.backbone_file.url }}" class="btn btn-outline-primary">Download Backbone File</a>
            <h2 class="mt-3">Insert</h2>
            <a href="{{ biobrick.insert_file.url }}" class="btn btn-outline-primary">Download Insert File</a>
        </div>
    </div>
    <div class="row mb-4">
        <div class="col">
            <h2 class="mb-4">
                Solutions
                <a href="#" class="btn btn-outline-primary float-end disabled">Download Solutions</a> 
            </h2>
            {% for solution in solutions %}
                <div class="card mb-2">
                    <div class="card-body">
                        <h4 class="card-title">
                            {{solution.name}}
                            <a href="{% url 'biobrick-solution-detail' solution.pk %}" class="btn btn-outline-primary float-end">View Solution</a>
                        </h4>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <strong>Created:</strong> {{ solution.date_created }}
                            </li>
                            <li class="list-group-item">
                                <strong>Parts:</strong> {{ solution.parts_count }}
                            </li>
                            <li class="list-group-item">
                                <strong>Primers:</strong> {{ solution.primers_count }}
                            </li>
                        </ul>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    <div class="row mb-4">
        <div class="col">
            <h2>BLAST Query</h2>
            <ul class="list-group">
                <li class="list-group-item"><strong>AddGene:</strong> {{ biobrick.addgene }}</li>
                <li class="list-group-item"><strong>iGEM:</strong> {{ biobrick.igem }}</li>
                <li class="list-group-item"><strong>DNASU:</strong> {{ biobrick.dnasu }}</li>
                <li class="list-group-item"><strong>Min BLAST seq size:</strong> {{ biobrick.min_blast }}nt</li>
                <li class="list-group-item"><strong>Max BLAST seq size:</strong> {{ biobrick.max_blast }}nt</li>
                <li class="list-group-item"><strong>Min synthetic seq size:</strong> {{ biobrick.min_synth }}nt</li>
                <li class="list-group-item"><strong>Max synthetic seq size:</strong> {{ biobrick.max_synth }}nt</li>
            </ul>    
        </div>
    </div>
    <div class="row mb-4">
        <div class="col">
            <h2>Experiment</h2>
            <ul class="list-group">
                <li class="list-group-item"><strong>Monovalent ion concentration:</strong> {{ biobrick.mv_conc }}mM</li>
                <li class="list-group-item"><strong>Divalent ion concentration:</strong> {{ biobrick.dv_conc }}mM</li>
                <li class="list-group-item"><strong>dNTP concentration:</strong> {{ biobrick.dntp_conc }}mM</li>
                <li class="list-group-item"><strong>DNA concentration:</strong> {{ biobrick.dna_conc }}nM</li>
                <li class="list-group-item"><strong>Melting temperature:</strong> {{ biobrick.tm }}C</li>
            </ul>
        </div>
    </div>
{% endblock content %}